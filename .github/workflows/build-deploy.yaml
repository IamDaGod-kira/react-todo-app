name: Build and Deploy

on:
    push:
          branches:
                  - master

          jobs:
              build:
                    runs-on: ubuntu-latest

                          steps:
                                  - name: Checkout Repository
                                            uses: actions/checkout@v2

                                                    - name: Set up Node.js
                                                              uses: actions/setup-node@v2
                                                                        with:
                                                                                    node-version: '16'

                                                                                            - name: Install Dependencies
                                                                                                      run: npm install

                                                                                                              - name: Build React App
                                                                                                                        run: npm run build

                                                                                                                            deploy:
                                                                                                                                  runs-on: ubuntu-latest

                                                                                                                                        needs: build

                                                                                                                                              steps:
                                                                                                                                                      - name: Deploy to Firebase
                                                                                                                                                                uses: w9jds/firebase-action@v2
                                                                                                                                                                          with:
                                                                                                                                                                                      args: deploy --only hosting
                                                                                                                                                                                                env:
                                                                                                                                                                                                            FIREBASE_TOKEN: ${{ secrets.FIREBASE_TOKEN }}
